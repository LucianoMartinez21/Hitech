{% extends 'base.html' %}
{% load static %}
{% block content %}

<!-- Slider -->
<div class="container-slider mt-0 slider-background">
    <!-- Auto Showcase -->
    <div id="carouselExample" class="carousel slide" data-ride="carousel">
      <div class="carousel-inner">
        <div class="carousel-item active">
          <img src="/static/img/auto1.jpg" class="d-block img-fluid w-50 mx-auto" alt="Auto 1">
          <div class="carousel-caption d-none d-md-block">
            <h2>Descripción del Modelo A.</h2>
          </div>
        </div>
        <div class="carousel-item">
          <img src="/static/img/auto2.jpg" class="d-block img-fluid w-50 mx-auto" alt="Auto 2">
          <div class="carousel-caption d-none d-md-block">
            <h2>Descripción del Modelo B.</h2>
          </div>
        </div>
        <!-- Agrega más imágenes según sea necesario -->
      </div>
      <a class="carousel-control-prev" href="#carouselExample" role="button" data-slide="prev">
        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
        <span class="sr-only">Previous</span>
      </a>
      <a class="carousel-control-next" href="#carouselExample" role="button" data-slide="next">
        <span class="carousel-control-next-icon" aria-hidden="true"></span>
        <span class="sr-only">Next</span>
      </a>
    </div>
  </div>

  <!-- filtros y varios autos -->
  <div class="container mt-5">
    <!-- Filtros por Categorías -->
    <div class="row">
      <div class="col-md-3">
        <h4>Filtrar por Categoría</h4>
        <ul class="list-group">
          <li class="list-group-item bg-black">Sedanes</li>
          <li class="list-group-item bg-black">SUVs</li>
          <li class="list-group-item bg-black">Deportivos</li>
          <li class="list-group-item bg-black">Híbridos</li>
          <li class="list-group-item bg-black">Eléctricos</li>
          <li class="list-group-item bg-black">Camiones</li>
        </ul>
      </div>
      
      <!-- Sección de Autos -->
      <div class="col-md-9">
        <div class="row">
          {% for auto_with_images in autos %}
              <div class="col-md-4 mb-4">
                <a href="{% url 'detail' auto_with_images.pk %}">
                      <div class="card bg-black">
                          {% if auto_with_images.first %}
                              <img src="{{ auto_with_images.first.path_foto.url }}" class="card-img-top" alt="{{ auto_with_images.marca }} {{ auto_with_images.modelo }}">
                          {% else %}
                              <!-- Use the full path to the default image -->
                              <img src="./pagina/static/img/logo2.png" class="card-img-top" alt="No Photo">
                          {% endif %}
                          <div class="card-body">
                              <h5 class="card-title">{{ auto_with_images.marca }} {{ auto_with_images.modelo }}</h5>
                              <p class="card-text">{{ auto_with_images.descripcion }}</p>
                          </div>
                      </div>
                </a>
              </div>
          {% endfor %}
        </div>
      
      
        <div class="pagination">
          <span class="step-links">
              {% if autos.has_previous %}
                  <a href="?page=1">&laquo; first</a>
                  <a href="?page={{ autos.previous_page_number }}">previous</a>
              {% endif %}
        
              <span class="current">
                  Page {{ autos.number }} of {{ autos.paginator.num_pages }}.
              </span>
        
              {% if autos.has_next %}
                  <a href="?page={{ autos.next_page_number }}">next</a>
                  <a href="?page={{ autos.paginator.num_pages }}">last &raquo;</a>
              {% endif %}
          </span>
        </div>
      </div>
  </div>
</div>
{% endblock %}
